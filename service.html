<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <!-- הגדרות בסיסיות של הדף -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>מפת חדר הכושר - Smart Gym</title>
  
  <!-- קישורים לספריות חיצוניות -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- תפריט ניווט עליון -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  <div class="container-fluid">

    <!-- לוגו של האתר -->
    <a class="navbar-brand" href="index.html">
      <img src="img/img/לוגו איתי ועילי שקוף.png" alt="לוגו">
    </a>

    <!-- כפתור תפריט למובייל -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">

      <!-- קישורי התפריט הראשיים -->
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">בית</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">אודות</a></li>
        <li class="nav-item"><a class="nav-link active" href="service.html">מפת חדר כושר</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">צור קשר</a></li>
        <li class="nav-item"><a class="nav-link" href="profile.html">הפרופיל שלי</a></li>
      </ul>

      <!-- אזור התחברות -->
      <ul class="navbar-nav ms-3">
        <!-- קישור התחברות - יופיע רק כשהמשתמש לא מחובר -->
        <li class="nav-item" id="loginLinkWrapper">
          <a class="nav-link" href="login.html" id="loginLink">התחברות / הרשמה</a>
        </li>
        <!-- שם המשתמש - יופיע רק כשהמשתמש מחובר -->
        <li class="nav-item d-none" id="userInfo">
          <span class="nav-link" id="userNameDisplay"></span>
        </li>
        <!-- כפתור התנתקות - יופיע רק כשהמשתמש מחובר -->
        <li class="nav-item d-none" id="logoutWrapper">
          <button class="btn btn-danger btn-sm mt-1" id="logoutBtn">התנתקות</button>
        </li>
      </ul>

    </div>
  </div>
</nav>



  <main class="container my-4">

    <h2 class="mb-4">מפת חדר הכושר - זמינות מכשירים</h2>

   

    <!-- Alert Section -->

    <div class="alert-section">

      <div class="alert alert-info">

        <h5><i class="bi bi-clock"></i> התראות עומס להיום</h5>

        <div class="crowded-time">

          <strong>⚠️ שעות עומס צפוי:</strong> 17:00-19:00 | 12:00-13:00

        </div>

        <div class="crowded-time">

          <strong>✅ שעות מומלצות:</strong> 06:00-08:00 | 14:00-16:00 | 20:00-22:00

        </div>

      </div>



      <!-- Weekly Crowd Chart -->

      <div class="chart-container">

        <h5 class="mb-3">תחזית עומס לשבוע הקרוב</h5>

        <div class="table-responsive">

          <table class="table table-bordered text-center">

            <thead class="table-primary">

              <tr>

                <th>יום</th>

                <th>בוקר (6-10)</th>

                <th>צהריים (10-14)</th>

                <th>אחר צהריים (14-18)</th>

                <th>ערב (18-22)</th>

              </tr>

            </thead>

            <tbody>

              <tr>

                <td><strong>ראשון</strong></td>

                <td><span class="time-slot low-crowd">אין עומס</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot high-crowd">עומס מירבי</span></td>

                <td><span class="time-slot high-crowd">עומס מירבי</span></td>

              </tr>

              <tr>

                <td><strong>שני</strong></td>

                <td><span class="time-slot low-crowd">אין עומס</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot high-crowd">עומס מירבי</span></td>

              </tr>

              <tr>

                <td><strong>שלישי</strong></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot high-crowd">עומס מירבי</span></td>

              </tr>

              <tr>

                <td><strong>רביעי</strong></td>

                <td><span class="time-slot low-crowd">אין עומס</span></td>

                <td><span class="time-slot low-crowd">אין עומס</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot high-crowd">עומס מירבי</span></td>

              </tr>

              <tr>

                <td><strong>חמישי</strong></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

              </tr>

              <tr>

                <td><strong>שישי</strong></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot medium-crowd">עומס בינוני</span></td>

                <td><span class="time-slot low-crowd">אין עומס</span></td>

                <td><span class="time-slot closed">סגור</span></td>

              </tr>

              <tr>

                <td><strong>שבת</strong></td>

                <td><span class="time-slot low-crowd">אין עומס</span></td>

                <td><span class="time-slot high-crowd">עומס מירבי</span></td>

                <td><span class="time-slot closed">סגור</span></td>

                <td><span class="time-slot closed">סגור</span></td>

              </tr>

            </tbody>

          </table>

        </div>

      </div>

    </div>

    <!-- People Counter Section - מונה מתאמנים בזמן אמת -->

    <div class="people-counter-section">

      <div class="counter-card">

        <div class="counter-icon">👥</div>

        <div class="counter-content">

          <div class="counter-label">מתאמנים כרגע במכון</div>

            <div class="counter-number" id="count_display">0</div>

          <div class="counter-subtitle">People currently in the gym</div>

        </div>

      </div>

    </div>

       <!-- Gym Map - 8 Machines Grid -->

       <div class="gym-map-container">

        <h4 class="mb-4 text-center">מצב מכשירים בזמן אמת</h4>

        <p class="text-center mb-4">

          <span class="badge bg-success p-2">🟢 פנוי</span>

          <span class="badge bg-danger p-2 ms-2">🔴 תפוס</span>

        </p>

 

        <div class="row" id="machines-grid">
          <div class="col-md-4 col-sm-12 mb-4">
            <div class="machine-box status-free" id="machine-1">
              <div class="machine-label">Machine 1 - Distance Sensor</div>
              <div class="machine-name">💪 מתח/מקבילים</div>
              <div class="status-text">🟢 פנוי</div>
            </div>
          </div>
          <div class="col-md-4 col-sm-12 mb-4">
            <div class="machine-box status-free" id="machine-2">
              <div class="machine-label">Machine 2 - Force Sensor</div>
              <div class="machine-name">🏃 הליכון</div>
              <div class="status-text">🟢 פנוי</div>
            </div>
          </div>
          <div class="col-md-4 col-sm-12 mb-4">
            <div class="machine-box status-free" id="machine-3">
              <div class="machine-label">Machine 3 - Available</div>
              <div class="machine-name">🚴 אופני כושר</div>
              <div class="status-text">🟢 פנוי</div>
            </div>
          </div>
        </div>

      </div>

 

      <div class="alert alert-info mt-4 text-center">

        <strong>💡 מידע:</strong> הסטטוס מתעדכן אוטומטית בזמן אמת מ-Firebase

      </div>

    </main>

 

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

 

  <!-- Firebase SDKs -->

  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-app-compat.js"></script>

  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-auth-compat.js"></script>

  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-database-compat.js"></script>

  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore-compat.js"></script>

 

  <script src="js/script.js"></script>

  <script>
  // פונקציות פשוטות למתחילים
  
  // פונקציה לשינוי סטטוס כפתור - לא בשימוש כרגע
  function toggleStatus(btn) {
    var buttons = btn.parentElement.querySelectorAll('.status-btn');
    
    // עובר על כל הכפתורים באותו אלמנט
    for (var i = 0; i < buttons.length; i++) {
      buttons[i].style.opacity = '0.3';
      buttons[i].style.transform = 'scale(1)';
    }
    
    // מדגיש את הכפתור שנלחץ
    btn.style.opacity = '1';
    btn.style.transform = 'scale(1.2)';
  }

  // אתחול הדף - רץ כשהדף נטען
  document.addEventListener('DOMContentLoaded', function() {
    // מוצא את כל הכפתורים הזמינים ומדגיש אותם
    var availableButtons = document.querySelectorAll('.status-btn.available');
    for (var i = 0; i < availableButtons.length; i++) {
      availableButtons[i].style.opacity = '1';
      availableButtons[i].style.transform = 'scale(1.2)';
    }
    
    // מעמעם את הכפתורים התפוסים
    var occupiedButtons = document.querySelectorAll('.status-btn.occupied');
    for (var i = 0; i < occupiedButtons.length; i++) {
      occupiedButtons[i].style.opacity = '0.3';
    }
  });
  </script>

</body>

</html>